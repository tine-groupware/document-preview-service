stages:
 - build
 - test
 - deploy
 - clean
 
cache:
 key: "buildFolder$CI_COMMIT_SHA"
 paths:
  - build
  
cache:
 key: "build$CI_COMMIT_SHA"
 paths:
  - "documentPreview-$CI_COMMIT_REF_NAME.tar.gz"

build:
 stage: build
 script:
  - php psh.phar build

test:
 stage: test
 script:
  - php psh.phar test
  
deploy:
 stage: deploy
 artifacts:
  paths:
   - "documentPreview-$CI_COMMIT_REF_NAME.tar.gz"
 script:
 - echo 1
  
clean:
 stage: clean
 script:
  - php psh.phar clear
  